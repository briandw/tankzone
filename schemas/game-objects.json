{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "$id": "https://battlezone.game/schemas/game-objects.json",
  "title": "Battlezone Game Objects",
  "description": "Shared game object schemas for Battlezone multiplayer game",
  
  "definitions": {
    "position": {
      "type": "array",
      "description": "3D position coordinates [x, y, z]",
      "items": { "type": "number" },
      "minItems": 3,
      "maxItems": 3
    },
    
    "rotation": {
      "type": "array", 
      "description": "3D rotation in radians [pitch, yaw, roll]",
      "items": { "type": "number" },
      "minItems": 3,
      "maxItems": 3
    },
    
    "velocity": {
      "type": "array",
      "description": "3D velocity vector [vx, vy, vz]", 
      "items": { "type": "number" },
      "minItems": 3,
      "maxItems": 3
    },
    
    "uuid": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "UUID v4 string"
    },
    
    "playerId": {
      "type": "string",
      "minLength": 1,
      "description": "Unique player identifier"
    },
    
    "Player": {
      "type": "object",
      "description": "Player state object",
      "required": ["id", "position", "rotation", "turret_rotation", "health", "connected"],
      "properties": {
        "id": { "$ref": "#/definitions/playerId" },
        "position": { "$ref": "#/definitions/position" },
        "rotation": { "$ref": "#/definitions/rotation" },
        "turret_rotation": { "$ref": "#/definitions/rotation" },
        "health": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100,
          "description": "Player health points"
        },
        "connected": {
          "type": "boolean",
          "description": "Whether player is currently connected"
        }
      },
      "additionalProperties": false
    },
    
    "Enemy": {
      "type": "object", 
      "description": "Enemy AI state object",
      "required": ["id", "position", "rotation", "health", "max_health"],
      "properties": {
        "id": { "$ref": "#/definitions/uuid" },
        "position": { "$ref": "#/definitions/position" },
        "rotation": { "$ref": "#/definitions/rotation" },
        "health": {
          "type": "integer",
          "minimum": 0,
          "description": "Current enemy health"
        },
        "max_health": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum enemy health"
        }
      },
      "additionalProperties": false
    },
    
    "Bullet": {
      "type": "object",
      "description": "Bullet projectile object",
      "required": ["id", "player_id", "position", "velocity"],
      "properties": {
        "id": { "$ref": "#/definitions/uuid" },
        "player_id": { "$ref": "#/definitions/playerId" },
        "position": { "$ref": "#/definitions/position" },
        "velocity": { "$ref": "#/definitions/velocity" }
      },
      "additionalProperties": false
    }
  }
} 